# Load zsh extentions
for ext_file ($ZSH/extentions/*.zsh) source $ext_file
if [ -f ~/.zsh/extentions/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ]; then
    source ~/.zsh/extentions/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fi

# Load all of zsh config files
for config_file ($ZSH/*.zsh) source $config_file

# rvm
if [ -s "$HOME/.rvm/scripts/rvm" ]; then
    source "$HOME/.rvm/scripts/rvm"
elif [ -x "`which gem 2>/dev/null`" ]; then
    export PATH="`gem env | perl -ne 'print $1 if /EXECUTABLE DIRECTORY: (.+)$/'`":$PATH
fi

# rbenv
export PATH=$HOME/.rbenv/bin:$PATH
[ -x "`which rbenv 2>/dev/null`" ] && eval "$(rbenv init -)"

[ -f ~/.zshrc.local ] && source ~/.zshrc.local

if [ $ITERM_PROFILE != "Hotkey Window" -a \
     $SHLVL -eq 1 -a -x "`which screen 2>/dev/null`" ]; then
    exec screen -UxR
fi

# uniq path
typeset -U path

# vim: set ft=zsh :
