" ////// options /////////////////////////////////////////////
" ex mode でインクリメント補完
set wildoptions=auto

" :[tab]open の補完対象と順序
set complete=tsl

" Change the title of the browser window. 
set titlestring="vimperator!!"

" Show or hide certain GUI elements.
set guioptions-=rb
"set guioptions+=n

" Never show tab bar 
"set showtabline=0

" Show the link in the command line 
set showstatuslinks=1

" ページロード時にテキストボックにフォーカスするのを防ぐ
set focuscontent

" デフォルト検索エンジンの指定
set defsearch=g

" Beep設定
set visualbell
:hi Bell display: none;

" エラーメッセージ表示レベル
set verbose=0

" ////// mapping /////////////////////////////////////////////
" undo一覧から開く
noremap U :undo<Space>

" <C-r> でブラウザ再起動
noremap <C-r> :restart

" e で読み込み中止
noremap e :st<CR>

" 上のディレクトリに移動
noremap <BS> gu
noremap <C-BS> gU

" j/k スクロール幅変更
noremap j 3j
noremap k 3k
noremap J 3j
noremap K 3k

" タブ移動
noremap h <C-p>
noremap l <C-n>

" タブ順序変更
noremap <C-h> :tabmove! -1<CR>
noremap <C-l> :tabmove! +1<CR>

" buffer
noremap <silent> . :buffer<Space>

" C-a で未分類のブックマークに追加/削除
"noremap <C-a> A

" !  でページのCSSをon/off
noremap ! :set invum<CR>

" Backspaceに戻るを割当
map <BS> <A-Left>

" .vimperatorrc読み込み
noremap ,s :so ~/.vimperatorrc<CR>

" ////// qmarks ///////////////////////////////////////////////
qmark g https://mail.google.com/
qmark b http://b.hatena.ne.jp/superbrothers
qmark t http://twitter.com/
qmark m http://meme.yahoo.com/home/
qmark f http://favotter.matope.com/user.php?user=superbrothers

" ////// plugin ///////////////////////////////////////////////
" #########################
" direct_bookmark.js
" #########################
let g:direct_sbm_use_services_by_tag = "h" 
let g:direct_sbm_use_services_by_post = "h"
let g:direct_sbm_is_normalize = "false"
let g:direct_sbm_is_use_migemo = "true"
noremap B :bentry<CR>
"noremap a :sbm<CR>
noremap A :sbm<Space>
"noremap ,a :btags<CR>

" #########################
" hatenabookmark.js
" #########################
javascript if (typeof hBookmark != 'undefined') liberator.loadScript('chrome://hatenabookmark/content/vimperator/plugin/hatenabookmark.js', {__proto__: this});
"javascript <<EOM
"liberator.globalVariables.hBookmark_shortcuts = {
"    hintsAdd     : ' ',
"    hintsComment : ' ',
"    add          : ['C'],
"    comment      : ['c'],
"};
"EOM
noremap s :hbtab<Space>
noremap S :hbtab<Space>
set complete+=H

" #########################
" copy.js
" #########################
noremap ,c :copy<Space>
javascript <<EOM
liberator.globalVariables.copy_templates = [
    { label: 'titleAndURL',    value: '%TITLE% %URL%' },
    { label: 'title',          value: '%TITLE%' },
    { label: 'url',            value: '%URL%' },
    { label: 'hatena',         value: '[%URL%:title=%TITLE%]' },
    { label: 'hatenacite',     value: '>%URL%:title=%TITLE%>\n%SEL%\n<<' },
    { label: 'htmlblockquote', value: '<blockquote cite="%URL%" title="%TITLE%">%HTMLSEL%</blockquote>' }
];
EOM

" #########################
" sbm_incsearch.js
" #########################
let sbmincsearch_service_name = "googlebookmarks"
let sbmincsearch_max = 10
autocmd VimperatorEnter .* :set complete+=I

" #########################
" feedSomeKeys_2.js
" #########################
autocmd LocationChange .* :fmapc
" Gmail
autocmd LocationChange ^https?://mail\\.google\\.com/(mail|a)/ :fmap! c / j k n p o u e x s r a # [ ] z ? gi gs gt gd ga gc
" Tumblr (use: tombloo.xpi, dashboard+tombloo.user.js, reblogcommand.user.js, playontumblr.user.js)
autocmd LocationChange ^http://.*\\.tumblr\\.com/ :fmap! i,tj e,tk n,h
" favotter (use: twitfavcommandminibuffer.user.js)
autocmd LocationChange ^http://favotter\\.matope\\.com/ :fmap! f,F
" LDR/Fastladder/OpenFL (use: tombloo.xpi, ldr+tombloo.user.js, ldr_relative_rate.user.js)
autocmd LocationChange ^http://(reader\\.livedoor\\.com|fastladder\\.com|0\\.0\\.0\\.0\:3000)/reader/ :fmap! j k s a p v c z Z b,i B,b i,Tj e r < > o,vj J,<Space> K,<S-Space> q w g u T
" iview
autocmd LocationChange ^chrome://iviewfx/content/iview\\.html :fmap! j k s a z o i,tj p
" はてブ
autocmd LocationChange ^http://b\\.hatena\\.ne\\.jp/(?!entry|articles|guide) :fmap! j k o,oj e a,b

" #########################
" twittperator.js
" #########################
noremap ,t :twittperator<Space>
noremap ,T :twittperator!
noremap ,@ :twittperator!@
" ChirpUserStream
let g:twittperator_use_chirp = 1
" echo-tweet.tw 
let g:twittperator_plugin_echo_tweet = 1
" reply-popup-alert.tw
let g:twittperator_plugin_reply_popup_alert = 1
let g:twittperator_screen_name = "superbrothers"
" twlist_win
let g:twittperator_plugin_twlist_win = 1

" #########################
" ulti_requester.js
" #########################
"noremap ,mt :mr<Space>twitter-search-pcod-no-jp<Space>
"noremap ,mT :mr<Space>twitter-search-pcod-no-jp<Space>["superbrothers"]<CR>
"noremap ,mf :mr<Space>favotter-new<Space>
"noremap ,mF :mr<Space>favotter-new<Space>["superbrothers"]<CR>
 
" #########################
" ldrize_cooperation.js
" #########################
let g:ldrc_captureMappings = "['j','k','p','o','?']"
let g:ldrc_intelligence_bind = "true"
let g:ldrc_skip = "0.25"
noremap Q :toggleldrc<CR>

" /////// javascripts /////////////////////////////////////////
" ステータスバーにfeedボタンを表示
js <<EOM
(function(){
    var feedPanel  = document.createElement('statusbarpanel');
    var feedButton = document.getElementById('feed-button');
    feedPanel.setAttribute('id','feed-panel-clone');
    feedPanel.appendChild(feedButton.cloneNode(true));
    feedButton.parentNode.removeChild(feedButton);
    document.getElementById('status-bar').insertBefore(feedPanel,document.getElementById('security-button'));
})();
EOM

" //////// colorscheme ////////////////////////////////////////
" CommadLine
hi Normal       color: LightYellow; background: #333;   font-size: 9pt;
hi InfoMsg      color: LightYellow; background: #333;   font-size: 9pt;
hi ModeMsg      color: LightYellow; background: #333;   font-size: 9pt;
hi MoreMsg      color: LimeGreen;   background: #333;   font-size: 9pt;
hi LineNr       color: DeepPink;    background: #333;   font-size: 9pt;
hi Question     color: Yellow;      background: #333;   font-size: 9pt;
hi WarningMsg   color: DeepPink;    background: #333;   font-size: 9pt;
hi NonText      background: #333;
hi Null         color: CornflowerBlue;
hi Tag          color: CornflowerBlue;

hi CompTitle            color: magenta;     background:#222;    font-weight: bold;
hi CompItem[selected]   color: DeepPink;    background: Black;
hi CompDesc             color: Pink;
hi GradientRight    background-color: Black;

hi Title        color: white;
hi Indicator    color: DodgerBlue;
hi String       color: Orchid;
hi Number       color: Orchid;
hi Object       color: Khaki;
hi Function     color: SkyBlue;
hi URL          color: LightGreen;

" Tab
"hi TabText      text-align: left; font-size: 8pt;
hi TabText       font-size: 8pt;
hi TabNumber    font-weight: bold; font-size: 10pt;

" StatusLine
hi StatusLine height: 23px; -moz-appearance: statusbar;

" ex mode時IMEをOFF
style -name commandline-ime chrome://* #liberator-commandline-command input { ime-mode: inactive; }

" /////////////////////////////////////////////////////////////
" vim:sw=4 ts=4 et: 
